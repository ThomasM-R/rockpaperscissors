<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>why</title>
    <link rel="icon" type="image/x-icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAI5JREFUOE+Vk0sOACEIQ+HmvTkTjAJ+YNSVCfZZKTIRCdWLq7IWRQA7w2EfhCnEAEOosBfIC0ANbU5unxDbMEFSBxDvC9j3nWSQEjCECssgDXCKKYoSQOvJsLJBfp7gsYfbJ0h2K+DHAN5iseoJoGIVpZH0QjnaKyQb0WtI9VGuIOVPWyNeG3ic7cNMlE4+V3NYCdRh750AAAAASUVORK5CYII=">
    <style>
        @keyframes shoe {
            from {background-position: 0%;}
            to {background-position: 40vh;}
        }
        @keyframes rainbow {
            0% {--rainbow: #f00}
            16.67% {--rainbow: #ff0}
            33.33% {--rainbow: #0f0}
            50% {--rainbow: #0ff}
            66.67% {--rainbow: #00f}
            83.33% {--rainbow: #f0f}
            100% {--rainbow: #f00}
        }
        * {
            animation: rainbow 1s linear infinite;
        }
        html, body {
            background-color: gray;
            height: 100%;
            margin: 0;
        }
        nav {
            display: flex;
            height: 100%;
        }
        nav div {
            width: 33.33%;
            background-size: contain;
            cursor: pointer;
        }
        nav div:hover {
            box-shadow: inset #000 0 0 10vh;
        }
        nav div#rock {
            background-size: cover;
            background-color: #bf8080;
            background-image: url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/98cd130a-7be3-494e-8506-4b779c1bd037/dfmgh0w-06b4b906-d6ac-42a4-84e9-e9f11eec89e2.png/v1/fill/w_591,h_1352/wwe_the_rock_2023_by_wwerenders2020_dfmgh0w-pre.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7ImhlaWdodCI6Ijw9MjAwMCIsInBhdGgiOiJcL2ZcLzk4Y2QxMzBhLTdiZTMtNDk0ZS04NTA2LTRiNzc5YzFiZDAzN1wvZGZtZ2gwdy0wNmI0YjkwNi1kNmFjLTQyYTQtODRlOS1lOWYxMWVlYzg5ZTIucG5nIiwid2lkdGgiOiI8PTg3NSJ9XV0sImF1ZCI6WyJ1cm46c2VydmljZTppbWFnZS5vcGVyYXRpb25zIl19.ehWQ5Uok_SfjU4Di2DubpRDVmzH1_32f9xInJdkrGYc);
        }
        nav div#paper {
            background-color: #80bf80;
            background-image: url(https://collegewares.com/cdn/shop/products/dundermifflinflag2.png?v=1600225500);
        }
        nav div#scissors {
            background-color: #8080bf;
            background-image: url(https://images-wixmp-ed30a86b8c4ca887773594c2.wixmp.com/f/2c0c2b2a-9a9d-4f44-8e3d-73b5eb02d274/d5kcb27-9b5079b4-2d99-44d2-9c75-334c0945c2dc.png/v1/fill/w_400,h_623/20121106_edward_scissorhands_by_amoykid_d5kcb27-fullview.png?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1cm46YXBwOjdlMGQxODg5ODIyNjQzNzNhNWYwZDQxNWVhMGQyNmUwIiwiaXNzIjoidXJuOmFwcDo3ZTBkMTg4OTgyMjY0MzczYTVmMGQ0MTVlYTBkMjZlMCIsIm9iaiI6W1t7InBhdGgiOiJcL2ZcLzJjMGMyYjJhLTlhOWQtNGY0NC04ZTNkLTczYjVlYjAyZDI3NFwvZDVrY2IyNy05YjUwNzliNC0yZDk5LTQ0ZDItOWM3NS0zMzRjMDk0NWMyZGMucG5nIiwiaGVpZ2h0IjoiPD02MjMiLCJ3aWR0aCI6Ijw9NDAwIn1dXSwiYXVkIjpbInVybjpzZXJ2aWNlOmltYWdlLndhdGVybWFyayJdLCJ3bWsiOnsicGF0aCI6Ilwvd21cLzJjMGMyYjJhLTlhOWQtNGY0NC04ZTNkLTczYjVlYjAyZDI3NFwvYW1veWtpZC00LnBuZyIsIm9wYWNpdHkiOjk1LCJwcm9wb3J0aW9ucyI6MC40NSwiZ3Jhdml0eSI6ImNlbnRlciJ9fQ.mdwHWt_PibNEtA2SXN0Z9_l5UKmTUBG0-6N9_AAidD0);
        }
        nav div:target {
            filter: drop-shadow(var(--rainbow) 0 0 1vh);
            box-shadow: inset var(--rainbow) 0 0 10vh;
        }
        div#shoe {
            background-image: url(https://d1fufvy4xao6k9.cloudfront.net/images/landings/339/brown-captoe-shoes.png);
            background-size: 40vh;
            height: 20vh;
            width: 100%;
            bottom: -20vh;
            animation: shoe 1s linear infinite;
            position: fixed;
            transition: bottom 0.2s;
        }
        div#shoe:hover {
            filter: brightness(150%) drop-shadow(var(--rainbow) 0 0 1vh);
        }
        div#shoe[active=true] {
            bottom: 0;
        }
        div#result {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            transform: scale(0%);
            background-size: contain;
        }
        div#result[img=win] {
            background-image: url(https://www.biworldwide.ca/globalassets/how-do-you-win-with-incentives.jpg);
        }
        div#result[img=loss] {
            background-image: url(https://upload.wikimedia.org/wikipedia/en/d/d0/Loss_comic.jpg);
        }
        div#result[img=draw] {
            background-image: url(https://upload.wikimedia.org/wikipedia/commons/7/7b/Aofhfeworewour2.jpg);
        }
        div#text {
            position: fixed;
            width: 100%;
            white-space: nowrap;
            height: 5vh;
            top: -5vh;
            text-align: center;
            font-size: 5vh;
            transition: top 0.2s;
            color: white;
            background-color: #000;
        }
        div#text[active] {
            top: 0;
        }
        div#clickprevent {
            display: none;
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div id="clickprevent" title="nuh uh"></div>
    <nav>
        <div id="rock" title="ROCK"></div>
        <div id="paper" title="PAPER"></div>
        <div id="scissors" title="SCISSORS"></div>
    </nav>
    <div id="shoe" title="SHOE!!"></div>
    <div id="result"></div>
    <div id="text">PLAYER CHOOSES...</div>
    <script>
// get stuff
let shoe = document.getElementById("shoe");
let resultDiv = document.getElementById("result");
let textDisplay = document.getElementById("text");
let clickPrevent = document.getElementById("clickprevent");

// very important constants that are vital to the game's integrity
const CHOICES = ["rock","paper","scissors"];
const TRANSLATIONS = {"rock": "dwyane johnson", "paper": "dunder mifflin", "scissors": "edward scissorhands"}
const VERBS = ["deletes", "sludges", "eats", "incinerates", "casts fireball at", "curses", "1984s", "fires finger guns at", "farts in the general direction of", "is clearly better than"];

// reset the player's choice (maybe)
location.hash = "";
// or not
//if(location.hash) shoe.setAttribute("active", true);

/* make all three choices clickable */
for (let choice of document.querySelectorAll("nav div")) {
    // on click
    choice.addEventListener("click", () => {
        // set the url hash to the id of the choice's id
        let iChooseYou = choice.getAttribute("id");
        location.hash = iChooseYou;
        shoe.setAttribute("active", true);
        console.log(`weird choice but ok (${iChooseYou})`)
    });
}

/* display a message onscreen */
function message(text, time) {
    console.log("message: " + text);
    textDisplay.textContent = text;
    textDisplay.setAttribute("active", true);
    window.setTimeout(()=>{
        textDisplay.removeAttribute("active");
    }, time);
}

/* select a random choice from a hard coded list 
literally thats it */
function getComputerChoice() {
    return CHOICES[Math.floor(Math.random() * 3)];
}

/* get the player's selection (stored in the hash of the website url) (bad practice but its funny) */
function getHumanChoice() {
    return location.hash.replace("#", "");
}

/* determine the winner
convert choices to numbers 0, 1, or 2
if both numbers are the same, draw
if ((number + 1) modulo 3) is not equal to other number, win
otherwise, lose
*/
function playRound(humanChoice, computerChoice) {
    let a = CHOICES.indexOf(humanChoice);
    let b = CHOICES.indexOf(computerChoice);
    console.log(`human chooses ${a}, computer chooses ${b}`);
    if (a === b) return "draw";
    else if ((a + 1) % 3 !== b) return "win";
    else return "loss";
}

/* um so basically this one goes like this:
get choices from both players
play the round to find the result
display the result
*/
function playGame() {
    console.log("[smash bros announcer voice] ROUND START!!!");
    // get choices
    clickPrevent.style.display = "block";
    const humanSelection = getHumanChoice();
    const computerSelection = getComputerChoice();
 
    message("COMPUTER CHOOSES " + TRANSLATIONS[computerSelection].toUpperCase(), 1500);

    window.setTimeout(()=>{
        // play round
        let result = playRound(humanSelection, computerSelection);

        // display result
        let verb = VERBS[Math.floor(Math.random() * VERBS.length)];
        message({
            "win": `${TRANSLATIONS[humanSelection]} ${verb} ${TRANSLATIONS[computerSelection]}`,
            "loss": `${TRANSLATIONS[computerSelection]} ${verb} ${TRANSLATIONS[humanSelection]}`,
            "draw": `nothing happens`,
        }[result].toUpperCase(), 2000);
        resultDiv.setAttribute("img", result);
        resultDiv.animate([
            {transform: "scale(0%) rotate(0deg)"},
            {transform: "scale(100%)  rotate(360deg)"},
            {transform: "scale(0%)  rotate(720deg)"}
        ], {
            duration: 2000,
            easing: "cubic-bezier(0,1,1,0)"
        });
        
        // reset game for next round
        window.setTimeout(()=>{
            console.log("new game");
            clickPrevent.style.display = "none";
            location.hash = "";
            shoe.removeAttribute("active");
        }, 1000);
    }, 2000);
}

// make the submit button run the game logic (VERY IMPORTANT!!)
shoe.addEventListener("click", playGame);

    </script>
    <script>
console.log("testing that functions function correctly (everything should be true)");
console.log(playRound("rock", "scissors") === "win");
console.log(playRound("paper", "paper") === "draw");
console.log(playRound("rock", "paper") === "loss");
console.log(CHOICES.includes(getComputerChoice()));
console.log("ok done bye\n\n")
    </script>
</body>
</html>